<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

	<script type="text/javascript">
	
		var httpRequest;
	
		function validateUser(){
			
			var username = document.getElementById("username").value;
			
			if(window.XMLHttpRequest){
				httpRequest = new XMLHttpRequest();
			}else if(window.ActiveXObject){
				httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
			}
			
			//registering a call back function
			httpRequest.onreadystatechange=processResponse;
			
			
			httpRequest.open('GET','validateUserServ?username='+username,true);
			
			httpRequest.send(null);
		}
		
		function processResponse(){
			if(httpRequest.readyState == 4){
				
				if(httpRequest.status == 200){
					
					var divTag = document.getElementById("message");
					divTag.innerHTML = httpRequest.responseText;
					
				}
				
			}
		}
		
	</script>

</head>
<body>

	<h2 align="center">Register Form</h2>
	
	<form action="registerProcess">
	
		<table>
		
			<tr><td>UserName  </td><td><input type="text" name="uname" id="username" onblur="validateUser()"/></td>
			<td><div id="message"></div></td></tr>
			<tr><td>Email </td><td><input type="text" name="email" /></td></tr>
			<tr><td>Phone </td><td><input type="text" name="phone" /></td></tr>
			<tr><td>City  </td><td><input type="text" name="city" /></td></tr>
			<tr><td><input type="submit" value="REGISTER"></td></tr>			
		</table>
	
	</form>

		

</body>
</html>

